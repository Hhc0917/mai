webpackJsonp([4],{"0Q7q":function(t,e,a){t.exports=a.p+"static/img/red2.png"},"0ayP":function(t,e,a){t.exports=a.p+"static/img/green2.png"},"1ig4":function(t,e,a){t.exports=a.p+"static/img/road.png"},"1rLA":function(t,e,a){var s=a("b6QO");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("bUva")("540e3072",s,!0,{})},"3f9Z":function(t,e,a){t.exports=a.p+"static/img/red.png"},"7Q5u":function(t,e,a){"use strict";var s=a("NtYf"),i=(a.n(s),null);e.a={data:function(){return{result:1,message:{stockIndexVo:{stockIndexOneValue:"",stockIndexTowValue:"",stockIndexThreeValue:""}}}},created:function(){var t=this;this.getResult(),i=setInterval(function(){t.getResult()},1e3)},beforeDestroy:function(){i&&clearInterval(i)},methods:{goOrder:function(){this.$router.push({name:"myOrder"})},goHome:function(){this.$router.push({name:"home"})},send:function(){this.$router.push({name:"myGold"})},getResult:function(){var t=this;console.log("dddd"),s.Indicator.open(),this.api.getB({url:"customerOrder/getOrderGameResult",params:{id:this.$route.query.oid},user:!0}).then(function(e){s.Indicator.close(),e.successed&&(t.message=e.returnValue,t.result=e.returnValue.gameState,2!=t.result&&3!=t.result||clearInterval(i),console.log(e))})}}}},BYVo:function(t,e,a){"use strict";function s(t){a("1rLA")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("kqLo"),r=a("QeST"),n=a("Aizv"),o=s,l=n(i.a,r.a,!1,o,"data-v-f33204da",null);e.default=l.exports},Hv68:function(t,e,a){"use strict";function s(t){a("frqI")}Object.defineProperty(e,"__esModule",{value:!0});var i=a("7Q5u"),r=a("ffU+"),n=a("Aizv"),o=s,l=n(i.a,r.a,!1,o,"data-v-742e283e",null);e.default=l.exports},IsH6:function(t,e,a){t.exports=a.p+"static/img/car2.png"},JN6r:function(t,e,a){t.exports=a.p+"static/img/tree.png"},MYKh:function(t,e,a){e=t.exports=a("yKCJ")(!1),e.push([t.i,"#upLvResult[data-v-742e283e]{padding:.75rem .5rem}#upLvResult .pb0[data-v-742e283e]{padding-bottom:0}#upLvResult .middTip[data-v-742e283e]{padding:.5rem;margin-top:1rem}#upLvResult .middTip .top[data-v-742e283e]{padding-top:.5rem;padding-bottom:.5rem;border-top:1px solid #ccc}#upLvResult .middTip .bottom[data-v-742e283e]{border:1px solid #ccc}#upLvResult .buttons button[data-v-742e283e]{width:7.5rem;font-size:.7rem}#upLvResult .bottons1[data-v-742e283e]{padding-top:.5rem;padding-bottom:.5rem;border-top:1px solid #eee}#upLvResult .bottons1 p[data-v-742e283e]{width:50%;height:100%;text-align:center}",""])},QRKn:function(t,e,a){t.exports=a.p+"static/img/green1.png"},QeST:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"wrapper",attrs:{id:"redLight"}},[1===t.alertState?s("MessageBox",{staticClass:"redRule",attrs:{hide:!0,instyle:t.alertStyle1}},[t._t("default",[s("div",{staticClass:"alertIn1 alertIn width100 pd20"},[s("h2",{staticClass:"colorRed largeFont row width100"}),t._v(" "),s("h6",{staticClass:"row width100"}),t._v(" "),s("p",[t._v("\n                    游戏将实时读取1个金融指数的真实数据。如数据最后一位数字为奇数，则亮红灯；如数据最后一位数字为偶数，则亮绿灯。\n                ")]),t._v(" "),s("br"),t._v(" "),s("p",{staticClass:"width100",staticStyle:{color:"#ff00e4"}},[t._v("\n                    游戏开始前玩家预测游戏结束时是哪种颜色的灯，游戏开始后下一个整分钟时间结束（剩余时间不足30秒顺延至下一分钟），如游戏结束时预测准确，则游戏获胜；如预测错误，则游戏失败。\n                ")]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"startGame largeFont flex-zhong",on:{click:function(e){t.startgame(2)}}})])])],2):t._e(),t._v(" "),2===t.alertState?s("MessageBox",{attrs:{hide:!0,instyle:t.alertStyle2}},[t._t("default",[s("div",{staticClass:"alertIn2 alertIn width100 alertInTwo pd20"},[s("div",{staticClass:"flex flex-hsb width100 mb"},[s("div",{staticClass:"item pd20 red",on:{click:function(e){t.selectThis(0)}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:0==t.select,expression:"select == 0"}],attrs:{src:a("lTog"),alt:""}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}],attrs:{src:a("0Q7q"),alt:""}})]),t._v(" "),s("div",{staticClass:"item pd20 green",on:{click:function(e){t.selectThis(1)}}},[s("img",{directives:[{name:"show",rawName:"v-show",value:1==t.select,expression:"select == 1"}],attrs:{src:a("QRKn"),alt:""}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:0==t.select,expression:"select == 0"}],attrs:{src:a("0ayP"),alt:""}})])]),t._v(" "),s("br"),t._v(" "),s("div",{staticClass:"startGame largeFont flex-zhong mb",on:{click:function(e){t.startgame(3)}}}),t._v(" "),s("div",{staticClass:"gameRule",on:{click:t.showRule}},[t._v("\n                    游戏规则>\n                ")])])])],2):t._e(),t._v(" "),s("div",{staticClass:"nowTime width100"},[t._v("\n        当前时间："+t._s(t.nowTime)+"\n    ")]),t._v(" "),s("div",{staticClass:"endTime width100 colorRed largeFont"},[t._v("\n        距离结束："+t._s(t._f("times")(t.time))+"\n    ")]),t._v(" "),s("p",{staticClass:"width100 mb selectLight"},[t._v("\n        预测选择：\n        "),s("span",{staticClass:"colorRed"},[t._v(t._s(0==t.select?"红灯":"绿灯"))])]),t._v(" "),s("div",{staticClass:"lightList1 lightList flex flex-hsb width100"},[t._m(0),t._v(" "),s("div",{staticClass:"item"},[s("div",{staticClass:"itemIn"},[s("img",{directives:[{name:"show",rawName:"v-show",value:t.message.dataSourceValue.slice(-1)%2==1,expression:"message.dataSourceValue.slice(-1)%2==1"}],attrs:{src:a("3f9Z"),alt:""}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:t.message.dataSourceValue.slice(-1)%2==0,expression:"message.dataSourceValue.slice(-1)%2==0"}],attrs:{src:a("vYJz"),alt:""}})])])]),t._v(" "),s("div",{staticClass:"lightList2 lightList flex flex-hsb width100 mb"},[s("div",{staticClass:"item"},[s("div",{staticClass:"message",class:{redColor:t.message.dataSourceValue.slice(-1)%2==1,greenColor:t.message.dataSourceValue.slice(-1)%2==0}},[s("p",{staticClass:"width100"},[t._v("\n                    "+t._s(t.message.dataSourceName)+"\n                ")]),t._v(" "),s("p",{staticClass:"width100"},[t._v("\n                    "+t._s(t.message.dataSourceValue)+"\n                ")])])])])],1)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"cars"},[s("img",{staticClass:"car1",attrs:{src:a("TLFY"),alt:""}}),t._v(" "),s("img",{staticClass:"car2",attrs:{src:a("IsH6"),alt:""}}),t._v(" "),s("img",{staticClass:"car3",attrs:{src:a("ZACW"),alt:""}})])}],r={render:s,staticRenderFns:i};e.a=r},TLFY:function(t,e,a){t.exports=a.p+"static/img/car1.png"},ZACW:function(t,e,a){t.exports=a.p+"static/img/car3.png"},b6QO:function(t,e,a){var s=a("BCHI");e=t.exports=a("yKCJ")(!1),e.push([t.i,"#redLight[data-v-f33204da]{padding-top:5rem;background:url("+s(a("f3nh"))+") no-repeat 0 0;background-size:100%}#redLight .redRule[data-v-f33204da]{background:#000}#redLight .alertIn .row[data-v-f33204da]{text-align:center}#redLight .alertIn .startGame[data-v-f33204da]{margin:0 auto;width:7.25rem;height:2rem;background:#409eff;color:#fff;background:url("+s(a("erK8"))+") no-repeat 50%;background-size:100% 100%}#redLight .alertIn1[data-v-f33204da],#redLight .alertInTwo[data-v-f33204da]{width:15.25rem;height:19.6rem;padding-top:5rem}#redLight .alertInTwo .item img[data-v-f33204da]{width:3.2rem;height:4.6rem}#redLight .alertInTwo .item .bottom[data-v-f33204da]{text-align:center}#redLight .alertInTwo .select[data-v-f33204da]{background:#ffb3b3}#redLight .alertInTwo .start[data-v-f33204da]{margin:0 auto .5rem;width:100%;height:2.5rem;background:#409eff;color:#fff}#redLight .gameRule[data-v-f33204da]{margin-top:1.25rem;padding-top:.5rem;width:100%;text-align:center;border-top:2px solid #ccc}#redLight .endTime[data-v-f33204da],#redLight .nowTime[data-v-f33204da]{text-align:center}#redLight .selectLight[data-v-f33204da]{padding:.85rem 1rem}#redLight .lightList[data-v-f33204da]{position:relative;background:url("+s(a("JN6r"))+") no-repeat 0 100%;background-size:100%}#redLight .lightList .cars[data-v-f33204da]{position:absolute;bottom:0;left:0;width:100%;height:1.7rem}#redLight .lightList .cars img[data-v-f33204da]{position:absolute;right:-3.75rem;bottom:0}#redLight .lightList .cars .car1[data-v-f33204da]{width:3.7rem;-webkit-animation:move-data-v-f33204da 5s infinite linear;animation:move-data-v-f33204da 5s infinite linear}#redLight .lightList .cars .car2[data-v-f33204da]{width:3.75rem;-webkit-animation:move-data-v-f33204da 4s infinite linear;animation:move-data-v-f33204da 4s infinite linear}#redLight .lightList .cars .car3[data-v-f33204da]{width:3.4rem;-webkit-animation:move-data-v-f33204da 3s infinite linear;animation:move-data-v-f33204da 3s infinite linear}#redLight .lightList .item[data-v-f33204da]{width:5rem}#redLight .lightList .item .itemIn[data-v-f33204da],#redLight .lightList .item img[data-v-f33204da]{width:100%}#redLight .lightList .item .top[data-v-f33204da]{margin:0 auto .5rem;width:3rem;height:3rem;border-radius:50%}#redLight .lightList .item .top img[data-v-f33204da]{width:100%}#redLight .lightList .item .bottom[data-v-f33204da]{text-align:center}#redLight .lightList .item .red[data-v-f33204da]{background:red}#redLight .lightList .item .green[data-v-f33204da]{background:green}#redLight .lightList .item .yellow[data-v-f33204da]{background:#ff0}#redLight .lightList .item p[data-v-f33204da]{text-align:center;margin-bottom:.5rem;margin-top:.5rem;word-break:break-all}#redLight .lightList2[data-v-f33204da]{padding-top:.75rem;height:7.4rem;background:url("+s(a("1ig4"))+") no-repeat 0 0;background-size:100%}#redLight .message[data-v-f33204da]{padding:.25rem 0;background:#000}#redLight .redColor[data-v-f33204da]{color:red}#redLight .greenColor[data-v-f33204da]{color:green}@-webkit-keyframes move-data-v-f33204da{0{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-22.5rem);transform:translateX(-22.5rem)}}@keyframes move-data-v-f33204da{0{-webkit-transform:translateX(0);transform:translateX(0)}to{-webkit-transform:translateX(-22.5rem);transform:translateX(-22.5rem)}}",""])},erK8:function(t,e,a){t.exports=a.p+"static/img/start.png"},f3nh:function(t,e,a){t.exports=a.p+"static/img/bg1.png"},"ffU+":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"wrapper",attrs:{id:"upLvResult"}},[2===t.result?[a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n            预测选择：\n            "),a("span",{staticClass:"colorRed"},[t._v(t._s(0==t.message.customerSelect?"红灯":"绿灯"))])]),t._v(" "),a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n            游戏结果：\n            "),a("span",{staticClass:"colorRed"},[t._v(t._s(0==t.message.gameResult?"红灯":"绿灯"))])]),t._v(" "),a("p",{staticClass:"colorRed pd20 largeFont tc"},[t._v("\n            恭喜您中奖！\n        ")]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"buttons flex flex-hsb mb"},[a("mt-button",{attrs:{type:"danger"},on:{click:t.send}},[t._v("存黄金")]),t._v(" "),a("mt-button",{attrs:{type:"danger"},on:{click:t.send}},[t._v("厂商回购")])],1)]:t._e(),t._v(" "),3===t.result?[t._m(0),t._v(" "),a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n            预测选择：\n            "),a("span",{staticClass:"colorRed"},[t._v(t._s(0==t.message.customerSelect?"红灯":"绿灯"))])]),t._v(" "),a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n            游戏结果：\n            "),a("span",{staticClass:"colorRed"},[t._v(t._s(0==t.message.gameResult?"红灯":"绿灯"))])]),t._v(" "),a("p",{staticClass:"colorRed pd20 largeFont"},[t._v("\n            升级失败！\n        ")]),t._v(" "),a("div",{staticClass:"middTip mb"},[a("p",{staticClass:"top"},[t._v("\n                我们会尽快为您购买的商品发货，请注意查收！\n            ")]),t._v(" "),a("div",{staticClass:"bottom smallFont"},[a("p",{staticClass:"pd20 width100"},[t._v("\n                    购买商品："+t._s(t.message.productName)+"\n                ")]),t._v(" "),a("p",{staticClass:"pd20 width100 colorRed"},[t._v("\n                    单价："+t._s(t.message.productPrice)+"元  \n                    "),a("span",{staticClass:"color333"},[t._v(" 数量："+t._s(t.message.orderCount)+" ")])])])]),t._v(" "),a("br"),t._v(" "),a("div",{staticClass:"bottons1 defaultStyle flex flex-hsb mb"},[a("p",{on:{click:t.goHome}},[t._v("\n                返回首页>\n            ")]),t._v(" "),a("p",{on:{click:t.goOrder}},[t._v("\n                查看订单>\n            ")])])]:t._e(),t._v(" "),a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n        本次游戏结果数据\n    ")]),t._v(" "),t.message.gameData?a("div",{staticClass:"flex flex-hlr pd20 pb0"},[a("p",[t._v(t._s(t.message.gameData.dataSourceName)+"："+t._s(t.message.gameData.dataSourceValue))]),t._v(" "),a("p",{staticClass:"colorRed"},[t._v(t._s(t.message.gameData.dataSourceValue.slice(-1)%2==1?"奇数亮红灯":"偶数绿灯亮"))])]):t._e()],2)},i=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",{staticClass:" color333 pd20 pb0 width100"},[t._v("\n            参与游戏：\n            "),a("span",{staticClass:"color333"},[t._v("超级红绿灯")])])}],r={render:s,staticRenderFns:i};e.a=r},frqI:function(t,e,a){var s=a("MYKh");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("bUva")("112386b2",s,!0,{})},kqLo:function(t,e,a){"use strict";var s=a("NtYf"),i=(a.n(s),a("LOkV")),r=null,n=null,o=null;e.a={data:function(){return{alertStyle1:{padding:0,background:"url(./static/img/redLight/redBg.png) no-repeat left top","background-size":"100% 100%"},alertStyle2:{padding:0,background:"url(./static/img/redLight/selectBg.png) no-repeat left top","background-size":"100% 100%"},alertState:1,select:0,message:{dataSourceName:"",dataSourceValue:""},time:0,nowTime:this.Util.dateTime(Date.parse(new Date),"time"),result:0,resultMessage:{}}},filters:{times:function(t){return t>60?"00:"+i.a.addZero(parseInt(t/60))+":"+i.a.addZero(t-60):"00:00:"+i.a.addZero(t)}},created:function(){this.getNowTime()},methods:{startThisGame:function(){var t=this;this.getMessage();var e=new Date;e.getSeconds()>30?this.time=60-e.getSeconds()+60:this.time=60-e.getSeconds(),r=setInterval(function(){t.time--,t.time%5==0&&t.getMessage(),0==t.time&&(o=setInterval(function(){t.getResult()},1e3),clearInterval(r))},1e3)},selectThis:function(t){this.select=t},getResult:function(){var t=this;s.Indicator.open(),this.api.getB({url:"customerOrder/getOrderGameResult",params:{id:this.$route.query.oid},user:!0}).then(function(e){s.Indicator.close(),e.successed&&(t.resultMessage=e.returnValue,t.result=e.returnValue.gameState,2!=t.result&&3!=t.result||(console.log("eee",e),clearInterval(o),2==t.result&&t.gameSuccess(e.returnValue),3==t.result&&t.gameFail()),console.log(e))}).catch(function(t){console.log("sss",t)})},gameSuccess:function(t){var e=this;console.log(t),Object(s.MessageBox)({title:"游戏成功！",message:"您获得了价值"+t.giveGoldQuantity+"元黄金",showCancelButton:!0,cancelButtonText:"厂商回购",confirmButtonText:"委托代存"}).then(function(a){"cancel"==a?(s.Indicator.open(),e.api.postB({url:"customerGoldFinance/buyBack",params:{buyBackGoldQuantity:t.giveGoldQuantity},user:!0}).then(function(t){s.Indicator.close(),t.successed&&(e.Util.myAlert("回购成功"),Object(s.MessageBox)({title:"  ",message:"您的黄金由厂商回购，获得现金"+t.returnValue+"元",showCancelButton:!0,cancelButtonText:"继续购物",confirmButtonText:"查看账户"}).then(function(t){"cancel"==t?e.goShopping():e.$router.push({name:"my"})}))})):Object(s.MessageBox)({title:"您的"+t.giveGoldQuantity+"克黄金将由商城代存。",message:"注：委托存金的黄金，商城代为保存的到下个月末，到期如不提取实体黄金产品系统将自动委托厂商回购",showCancelButton:!0,cancelButtonText:"继续购物",confirmButtonText:"查看黄金"}).then(function(t){"cancel"===t?e.goShopping():e.$router.push({name:"myGold"})}),console.log("ccc",a)}).catch(function(t){console.log("sss",t)})},goShopping:function(){this.$router.push({name:"shopping"})},gameFail:function(){var t=this;Object(s.MessageBox)({title:"游戏失败！",message:" ",showCancelButton:!0,cancelButtonText:"继续购物",confirmButtonText:"查看已买商品"}).then(function(e){"cancel"==e?t.goShopping():t.$router.push({name:"myOrder"})}).catch(function(t){console.log("sss",t)})},startgame:function(t){var e=this;console.log(t),3==t?this.api.putB({url:"customerOrder/startGame",user:!0,params:{id:this.$route.query.oid,customerSelect:this.select}}).then(function(t){t.successed&&(e.alertState=0,e.startThisGame())}):(this.alertState=0,this.$nextTick(function(){e.alertState=t}))},getMessage:function(){var t=this;this.api.getBn({url:"gameDataSource/getInfo",user:!0}).then(function(e){e.successed&&(t.message=e.returnValue)})},showRule:function(){var t=this;this.alertState=0,this.$nextTick(function(){t.alertState=1})},getNowTime:function(){var t=this;n=setInterval(function(){t.nowTime=t.Util.dateTime(Date.parse(new Date),"time")},1e3)},showBack:function(){var t=this;Object(s.MessageBox)({title:" 提示 ",message:"本次游戏已完成，谢谢参与！",showConfirmButton:!0,showCancelButton:!0,confirmButtonText:"返回首页",cancelButtonText:"查看结果"}).then(function(e){console.log(e),"confirm"===e?t.$router.push({name:"home"}):(console.log("查看结果"),t.$router.push({name:"upLvResult"}))}).catch(function(t){})}},beforeDestroy:function(){r&&clearInterval(r),n&&clearInterval(n),o&&clearInterval(o)}}},lTog:function(t,e,a){t.exports=a.p+"static/img/red1.png"},vYJz:function(t,e,a){t.exports=a.p+"static/img/green.png"}});