webpackJsonp([3],{"82Yn":function(e,t,a){"use strict";var s=a("NtYf");a.n(s);t.a={data:function(){return{defaultMessage:{consignee:""},item:{}}},created:function(){this.$route.query.addrId?this.getById():this.getDefault(),this.getDetailById()},mounted:function(){},methods:{getGold:function(){var e=this;s.MessageBox.confirm("确定提取？").then(function(t){s.Indicator.open(),e.api.postB({url:"customerGoldFinance/pickUp",params:{goldProductId:e.$route.query.id,deliveryAddressId:e.defaultMessage.id,orderCount:1},user:!0}).then(function(t){s.Indicator.close(),t.successed&&s.MessageBox.alert("黄金将由商城合作的黄金厂家生产并发货，预计3-5工作日内发出，请留意黄金厂家发货的物流信息，如有疑问请联系客服。","提取成功！").then(function(){e.$router.replace({name:"getGold"})})})})},selectAddr:function(){this.$router.push({name:"receiveAddress",query:{id:this.$route.query.id,isSelect:1,from:"gold"}})},getDetailById:function(){var e=this;s.Indicator.open(),this.api.getB({url:"customerGoldFinance/getGoldProductDetail",params:{id:this.$route.query.id},user:!0}).then(function(t){s.Indicator.close(),t.successed&&(e.item=t.returnValue)}).catch(function(){})},getById:function(){var e=this;s.Indicator.open(),this.api.getB({url:"deliveryAddress/getById",params:{id:this.$route.query.addrId},user:!0}).then(function(t){s.Indicator.close(),t.successed&&(e.defaultMessage=t.returnValue)}).catch(function(){})},getDefault:function(){var e=this;s.Indicator.open(),this.api.getB({url:"deliveryAddress/getDefault",user:!0}).then(function(t){s.Indicator.close(),t.successed&&t.returnValue&&(e.defaultMessage=t.returnValue)})},getMyInfo:function(){var e=this;this.api.getB({url:"customer/getByToken",user:!0}).then(function(t){t.successed&&(e.userInfo=t.returnValue)})}}}},"8Jyg":function(e,t,a){var s=a("zq2R");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("bUva")("247341a8",s,!0,{})},"8voG":function(e,t,a){t=e.exports=a("yKCJ")(!1),t.push([e.i,"#sureGold .item[data-v-1234a74a]{position:relative;background:#fff;margin-bottom:5px}#sureGold .item .left[data-v-1234a74a]{margin-right:.75rem;width:3.75rem;height:3.75rem}#sureGold .item .left img[data-v-1234a74a]{width:100%;height:100%}#sureGold .item .middle[data-v-1234a74a]{width:10rem}#sureGold .item .middle .colorRed[data-v-1234a74a]{padding:.5rem;border:1px solid #9acd32;border-radius:.5rem;text-align:center}#sureGold .item .right[data-v-1234a74a]{position:absolute;top:0;right:0;width:3.75rem;height:100%}#sureGold .item .right img[data-v-1234a74a]{width:1.2rem;height:1.2rem}#sureGold .sendType[data-v-1234a74a]{position:relative;padding:0 .5rem;width:100%;background:#fff}#sureGold .sendType .one[data-v-1234a74a]{padding-top:.5rem;padding-bottom:.5rem;border-bottom:1px solid #ccc}#sureGold .sendType .three[data-v-1234a74a],#sureGold .sendType .two[data-v-1234a74a]{padding-top:.5rem;padding-bottom:.5rem;padding-right:1.25rem}#sureGold .sendType .jiantou[data-v-1234a74a]{position:absolute;right:.5rem;top:2rem;width:1rem;height:4rem;line-height:3rem;text-align:center}#sureGold .sendType .jiantou img[data-v-1234a74a]{width:.7rem}#sureGold .bottomTabIn[data-v-1234a74a]{padding:.5rem}#sureGold .bottomTabIn .buy[data-v-1234a74a]{width:15rem;height:2rem;background:red;color:#fff;border-radius:2rem}",""])},CwzT:function(e,t,a){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var i=a("NtYf");a.n(i);t.a={data:function(){return{list:[],loading:!1,noMore:!1,pageNum:1,alertState:0,message:{},getNum:0,isDisable:!0}},filters:{typeHandle:function(e){var t="";switch(e){case 0:t="赠送";break;case 1:t="提取";break;case 2:t="回购"}return t},numHandle:function(e){var t="";switch(e){case 0:t="+";break;case 1:case 2:t="-"}return t}},created:function(){this.getMessage()},methods:{getGoldMoney:function(){var e=this;i.MessageBox.confirm("确定回购？").then(function(t){i.Indicator.open(),e.api.postB({url:"customerGoldFinance/buyBack",params:{buyBackGoldQuantity:e.getNum},user:!0}).then(function(t){i.Indicator.close(),t.successed&&(e.Util.myAlert("回购成功"),e.getMessage(),e.close(),e.list=[],e.noMore=!1,e.loading=!1)})})},getAll:function(){this.getNum=this.message.goldBalance},delZero:function(){this.getNum=this.getNum.replace(/\b(0+)/gi,"")},getGold:function(){this.$router.push({name:"getGold"})},open:function(){this.alertState=1},close:function(){this.alertState=0,this.getNum=0},getMessage:function(){var e=this;i.Indicator.open(),this.isDisable=!0,this.api.getB({url:"customerGoldFinance/getGoldAccount",user:!0}).then(function(t){i.Indicator.close(),t.successed&&(e.message=t.returnValue,e.isDisable=!1)}).catch(function(t){e.noMore=!0})},getList:function(){var e=this;this.loading=!0,this.api.getB({url:"customerGoldFinance/getPageList",params:{pageNum:this.pageNum,pageSize:10},user:!0}).then(function(t){if(t.successed){var a;(a=e.list).push.apply(a,s(t.returnValue.list)),t.returnValue.list.length<10?e.noMore=!0:(e.pageNum++,e.loading=!1)}}).catch(function(t){e.noMore=!0})}}}},DpOL:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{id:"myGold"}},[a("div",{staticClass:"myData pd20 bg1"},[a("p",{staticClass:"width100 color333 mb"},[e._v("\n            您当前拥有："),a("span",{staticClass:"colorRed largeFont"},[e._v(e._s(e.message.goldBalance))]),e._v(" 克黄金\n        ")]),e._v(" "),a("div",{staticClass:"flex mb"},[a("mt-button",{attrs:{disabled:e.isDisable,size:"small",type:"primary"},on:{click:e.open}},[e._v("回购")]),e._v(" "),a("div",{staticClass:"pd20"}),e._v(" "),a("div",{staticClass:"pd20"}),e._v(" "),a("mt-button",{attrs:{size:"small",type:"primary"},on:{click:e.getGold}},[e._v("提取黄金")])],1),e._v(" "),a("p",{staticClass:"width100 color333 mb smallFont"},[e._v("\n            注：存黄金最长期限为1个月，到期不提取实体黄金产品则系统自动回购\n        ")])]),e._v(" "),a("div",{ref:"wrapper",staticClass:"rooms page-infinite-wrapper"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.getList,expression:"getList"}],ref:"roolist",staticClass:"list page-infinite-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"60"}},e._l(e.list,function(t,s){return a("li",{staticClass:"item pd20"},[a("p",{staticClass:"flex flex-hlr mb"},[a("span",[e._v("\n                        "+e._s(e._f("typeHandle")(t.streamType))+"\n                    ")]),e._v(" "),a("span",{staticClass:"add"},[e._v("\n                        "+e._s(e._f("numHandle")(t.streamType))+e._s(t.goldQuantity)+"\n                    ")])]),e._v(" "),a("p",{staticClass:"flex flex-hlr color999"},[a("span",[e._v("\n                        "+e._s(t.created)+"\n                    ")]),e._v(" "),a("span",[e._v("\n                        黄金账户： "+e._s(t.balance)+"克\n                    ")])])])}))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.noMore,expression:"!noMore"}],staticClass:"noMore flex-zhong"},[a("mt-spinner",{attrs:{type:"snake"}})],1),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.noMore,expression:"noMore"}],staticClass:"noMore"},[e._v("没有更多数据了")]),e._v(" "),1===e.alertState?a("MessageBox",{on:{close:e.close}},[e._t("default",[a("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 您当前拥有 "),a("span",{staticClass:"colorRed"},[e._v(e._s(e.message.goldBalance))]),e._v(" 克黄金！")]),e._v(" "),a("p",{staticClass:"alertOne defaultFont color333"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.getNum,expression:"getNum"}],attrs:{type:"number"},domProps:{value:e.getNum},on:{change:e.delZero,input:function(t){t.target.composing||(e.getNum=t.target.value)}}}),e._v(" "),a("button",{on:{click:e.getAll}},[e._v("\n                    全部\n                ")])]),e._v(" "),a("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 可获得现金："),a("span",{staticClass:"colorRed"},[e._v(e._s(e.getNum*e.message.goldPrice))]),e._v(" 元")]),e._v(" "),a("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 当前金价："+e._s(e.message.goldPrice)+" 元/克")]),e._v(" "),a("br"),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"buttons flex flex-hsb"},[a("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.getGoldMoney}},[e._v("确定 ")]),e._v(" "),a("mt-button",{attrs:{type:"default",size:"small"},on:{click:e.close}},[e._v(" 取消 ")])],1)])],2):e._e()],1)},i=[],r={render:s,staticRenderFns:i};t.a=r},EJju:function(e,t,a){"use strict";function s(e){a("e42E")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("82Yn"),r=a("yqsY"),n=a("Aizv"),o=s,l=n(i.a,r.a,!1,o,"data-v-1234a74a",null);t.default=l.exports},"H/9t":function(e,t,a){"use strict";function s(e){a("8Jyg")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("CwzT"),r=a("DpOL"),n=a("Aizv"),o=s,l=n(i.a,r.a,!1,o,"data-v-08df9340",null);t.default=l.exports},SI69:function(e,t,a){var s=a("fMl6");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("bUva")("85bf1b0c",s,!0,{})},T6vt:function(e,t,a){"use strict";function s(e){a("SI69")}Object.defineProperty(t,"__esModule",{value:!0});var i=a("YCkZ"),r=a("wb9c"),n=a("Aizv"),o=s,l=n(i.a,r.a,!1,o,"data-v-7891fcfb",null);t.default=l.exports},YCkZ:function(e,t,a){"use strict";function s(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}var i=a("NtYf");a.n(i);t.a={data:function(){return{list:[],loading:!1,noMore:!1,pageNum:1}},created:function(){},methods:{getGold:function(e){this.$router.push({name:"sureGold",query:{id:e}})},isThis:function(e){this.selectList=[],this.selectList.push(e),this.getAllMoney()},getAllMoney:function(){var e=this;this.allMoney=0;var t=[];t=this.list.filter(function(t){return e.selectList.indexOf(t.id)>-1}),console.log(t),t.forEach(function(t){e.allMoney+=t.costGoldQuantity})},getList:function(){var e=this;this.loading=!0,this.api.getB({url:"customerGoldFinance/getGoldProductPageList",params:{pageNum:this.pageNum,pageSize:6},user:!0}).then(function(t){var a=t;if(a.successed){var i;(i=e.list).push.apply(i,s(a.returnValue.list)),e.getAllMoney(),a.returnValue.list.length<10?e.noMore=!0:(e.pageNum++,e.loading=!1)}}).catch(function(t){e.noMore=!0})},selectAddr:function(){this.$router.push({name:"receiveAddress",query:{ids:this.selectList.join(","),isSelect:1,from:"gold"}})},getById:function(){var e=this;i.Indicator.open(),this.api.getB({url:"deliveryAddress/getById",params:{id:this.$route.query.addrId},user:!0}).then(function(t){i.Indicator.close(),t.successed&&(e.defaultMessage=t.returnValue)}).catch(function(){})},getDefault:function(){var e=this;i.Indicator.open(),this.api.getB({url:"deliveryAddress/getDefault",user:!0}).then(function(t){i.Indicator.close(),t.successed&&t.returnValue&&(e.defaultMessage=t.returnValue)})},getMyInfo:function(){var e=this;this.api.getB({url:"customer/getByToken",user:!0}).then(function(t){t.successed&&(e.userInfo=t.returnValue)})}}}},e42E:function(e,t,a){var s=a("8voG");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("bUva")("7c31c0fa",s,!0,{})},fMl6:function(e,t,a){t=e.exports=a("yKCJ")(!1),t.push([e.i,"#getGold .item[data-v-7891fcfb]{position:relative;background:#fff;margin-bottom:1px}#getGold .item .left[data-v-7891fcfb]{margin-right:.75rem;width:3.75rem;height:3.75rem}#getGold .item .left img[data-v-7891fcfb]{width:100%;height:100%}#getGold .item .middle[data-v-7891fcfb]{width:10rem}#getGold .item .middle .colorRed[data-v-7891fcfb]{padding:.5rem;border:1px solid #9acd32;border-radius:.5rem;text-align:center}#getGold .item .right[data-v-7891fcfb]{position:absolute;top:0;right:0;width:3.75rem;height:100%}#getGold .item .right img[data-v-7891fcfb]{width:1.2rem;height:1.2rem}#getGold .bottomTabIn[data-v-7891fcfb]{padding:.5rem}#getGold .bottomTabIn .buy[data-v-7891fcfb]{width:5rem;height:2rem;background:red;color:#fff;border-radius:2rem}",""])},wb9c:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{id:"getGold"}},[a("div",{ref:"wrapper",staticClass:"rooms page-infinite-wrapper"},[a("ul",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.getList,expression:"getList"}],ref:"roolist",staticClass:"list page-infinite-list",attrs:{"infinite-scroll-disabled":"loading","infinite-scroll-distance":"60"}},e._l(e.list,function(t,s){return a("li",{staticClass:"item pd20 flex"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:t.image,alt:""}})]),e._v(" "),a("div",{staticClass:"middle"},[a("p",{staticClass:"mb width100 ellipsis"},[e._v(e._s(t.productName))]),e._v(" "),a("p",{staticClass:"colorRed"},[e._v(e._s(t.costGoldQuantity)+" 克")])]),e._v(" "),a("div",{staticClass:"right flex-zhong"},[a("mt-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){e.getGold(t.id)}}},[e._v("提取")])],1)])}))]),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:!e.noMore,expression:"!noMore"}],staticClass:"noMore flex-zhong"},[a("mt-spinner",{attrs:{type:"snake"}})],1),e._v(" "),a("p",{directives:[{name:"show",rawName:"v-show",value:e.noMore,expression:"noMore"}],staticClass:"noMore"},[e._v("没有更多数据了")])])},i=[],r={render:s,staticRenderFns:i};t.a=r},xMAf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAMAAAD6gTxzAAAABGdBTUEAALGPC/xhBQAAAFFQTFRFwcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvaAAAAwcvalBVc2QAAABp0Uk5T+d6f/vOoKfvYPQ6XugGpTvXkp+5h4oQIGAAGFDLHAAAAYUlEQVQY043RyQ6AIAwEUNz3DRVw/v9DNUaROD0wx3do2qmyqcqL8giiDK5UxgaU4E7dfJThSde+BJ9lIgJGR4R1G/4E9I4IuyOCZpqjSEeMpyV4VTrIny2UI1QoFM3vOAE1WiUBGCdIHgAAAABJRU5ErkJggg=="},yqsY:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{id:"sureGold"}},[a("div",{staticClass:"item pd20 flex"},[a("div",{staticClass:"left"},[a("img",{attrs:{src:e.item.image,alt:""}})]),e._v(" "),a("div",{staticClass:"middle"},[a("p",{staticClass:"mb width100 ellipsis"},[e._v(e._s(e.item.productName))]),e._v(" "),a("p",{staticClass:"colorRed"},[e._v(e._s(e.item.costGoldQuantity)+" 克")])])]),e._v(" "),a("div",{staticClass:"sendType mb",on:{click:e.selectAddr}},[e._m(0),e._v(" "),a("div",{staticClass:"two flex flex-hlr"},[a("div",{staticClass:"defaultFont color333"},[e._v("\n                收货人："+e._s(e.defaultMessage.consignee)+"\n            ")]),e._v(" "),a("div",{staticClass:"defaultFont color333"},[e._v("\n                "+e._s(e.defaultMessage.mobile)+"\n            ")])]),e._v(" "),a("div",{staticClass:"three color333 smallFont"},[e._v("\n            收货地址：\n            "+e._s(e.defaultMessage.province)+"\n            "+e._s(e.defaultMessage.city)+"\n            "+e._s(e.defaultMessage.region)+"\n            "+e._s(e.defaultMessage.address)+"\n        ")]),e._v(" "),e._m(1)]),e._v(" "),a("div",{staticClass:"bottomTab"},[a("div",{staticClass:"bottomTabIn flex-zhong"},[a("div",{staticClass:"buy flex-zhong",on:{click:e.getGold}},[e._v("\n                确定提取\n            ")])])])])},i=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one flex flex-hlr"},[a("div",{staticClass:"defaultFont color333"},[e._v("\n                配送方式\n            ")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"jiantou flex-zhong"},[s("img",{attrs:{src:a("xMAf"),alt:""}})])}],r={render:s,staticRenderFns:i};t.a=r},zq2R:function(e,t,a){t=e.exports=a("yKCJ")(!1),t.push([e.i,"#myGold .myData[data-v-08df9340]{margin-bottom:5px}#myGold .item[data-v-08df9340]{background:#fff;margin-bottom:1px}#myGold .reduce[data-v-08df9340]{color:#9acd32}#myGold .add[data-v-08df9340]{color:red}#myGold .alertOne[data-v-08df9340]{width:100%;padding-top:.75rem}#myGold .alertOne input[data-v-08df9340]{padding:0 .5rem;width:50%;height:2rem;border:1px solid #ccc;border-radius:.25rem}#myGold .alertOne button[data-v-08df9340]{padding:0 .5rem;width:40%;height:2rem;border:none;background:#409eff;color:#fff;border-radius:.25rem}",""])}});