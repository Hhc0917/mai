webpackJsonp([15],{Y3Ax:function(e,t,a){"use strict";function r(e){a("aseH")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("w588"),i=a("igfr"),d=a("Z0/y"),n=r,o=d(s.a,i.a,!1,n,"data-v-3a53cffa",null);t.default=o.exports},aseH:function(e,t,a){var r=a("dpvy");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a("FIqI")("6eb37a7c",r,!0,{})},dpvy:function(e,t,a){t=e.exports=a("UTlt")(!1),t.push([e.i,"#sureOrder .mb[data-v-3a53cffa]{margin-bottom:.5rem}#sureOrder .product[data-v-3a53cffa]{padding:.5rem;width:100%;background:#fff}#sureOrder .product .left[data-v-3a53cffa]{width:6.5rem;height:6.5rem;background:#f2f2f2}#sureOrder .product .left img[data-v-3a53cffa]{max-width:6.5rem;max-height:6.5rem}#sureOrder .product .right[data-v-3a53cffa]{padding-left:.75rem;width:11.25rem}#sureOrder .product .right .top[data-v-3a53cffa]{height:80%}#sureOrder .buyNum[data-v-3a53cffa]{padding:0 .5rem;width:100%;height:3rem;background:#fff}#sureOrder .buyNum input[data-v-3a53cffa]{border:none;width:2rem;height:1.5rem;text-align:center}#sureOrder .buyNum .down[data-v-3a53cffa]{width:1.5rem;height:1.5rem;background:#f0f0f1;text-align:center;line-height:1.5rem}#sureOrder .sendType[data-v-3a53cffa]{position:relative;padding:0 .5rem;width:100%;background:#fff}#sureOrder .sendType .one[data-v-3a53cffa]{padding-top:.5rem;padding-bottom:.5rem;border-bottom:1px solid #ccc}#sureOrder .sendType .three[data-v-3a53cffa],#sureOrder .sendType .two[data-v-3a53cffa]{padding-top:.5rem;padding-bottom:.5rem;padding-right:1.25rem}#sureOrder .sendType .jiantou[data-v-3a53cffa]{position:absolute;right:.5rem;bottom:1rem;width:1rem;height:3rem;line-height:3rem;text-align:center}#sureOrder .getServer[data-v-3a53cffa]{width:100%;padding:.5rem;text-align:center;background:#fff}#sureOrder .allMount[data-v-3a53cffa]{background:#fff;padding:.5rem}#sureOrder .bottomTabIn[data-v-3a53cffa]{padding:.5rem}#sureOrder .bottomTabIn .buy[data-v-3a53cffa]{width:5rem;height:2rem;background:red;color:#fff;border-radius:2rem}#sureOrder .alertOne[data-v-3a53cffa]{width:100%;padding-top:.75rem}#sureOrder .alertOne input[data-v-3a53cffa]{padding:0 .5rem;width:100%;height:2rem;border:1px solid #ccc;border-radius:.25rem}",""])},igfr:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapper",attrs:{id:"sureOrder"}},[a("div",{staticClass:"product flex mb"},[a("div",{staticClass:"left"},[a("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:e.detail.image,expression:"detail.image",modifiers:{container:!0}}]})]),e._v(" "),a("div",{staticClass:"right"},[a("div",{staticClass:"top color333"},[e._v("\n                "+e._s(e.detail.productName)+"\n            ")]),e._v(" "),a("div",{staticClass:"bottom flex flex-hlr flex-sc"},[a("p",{staticClass:"colorRed defaultFont"},[e._v("￥"+e._s(e.detail.price))]),e._v(" "),a("p",{staticClass:"color333"},[e._v("× "+e._s(e.num))])])])]),e._v(" "),a("div",{staticClass:"buyNum flex flex-hlr flex-sc mb"},[a("div",{staticClass:"color333 defaultFont"},[e._v("购买数量")]),e._v(" "),a("div",{staticClass:"flex flex-hlr"},[a("div",{staticClass:"down",on:{click:e.down}},[e._v("-")]),e._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],attrs:{type:"number"},domProps:{value:e.num},on:{change:e.handle,input:function(t){t.target.composing||(e.num=t.target.value)}}})]),e._v(" "),a("div",{staticClass:"down",on:{click:e.up}},[e._v("+")])])]),e._v(" "),a("div",{staticClass:"sendType mb",on:{click:e.selectAddr}},[e._m(0),e._v(" "),a("div",{staticClass:"two flex flex-hlr"},[a("div",{staticClass:"defaultFont color333"},[e._v("\n                收货人："+e._s(e.defaultMessage.consignee)+"\n            ")]),e._v(" "),a("div",{staticClass:"defaultFont color333"},[e._v("\n                "+e._s(e.defaultMessage.mobile)+"\n            ")])]),e._v(" "),a("div",{staticClass:"three color333 smallFont"},[e._v("\n            收货地址：\n            "+e._s(e.defaultMessage.province)+"\n            "+e._s(e.defaultMessage.city)+"\n            "+e._s(e.defaultMessage.region)+"\n            "+e._s(e.defaultMessage.address)+"\n        ")]),e._v(" "),a("div",{staticClass:"jiantou"},[e._v("\n            >\n        ")])]),e._v(" "),a("div",{staticClass:"getServer color2 mb"},[e._v("\n        联系客服\n    ")]),e._v(" "),a("div",{staticClass:"allMount"},[a("div",{staticClass:"flex flex-hlr"},[a("p",{staticClass:"color333 defaultFont"},[e._v("\n                商品金额\n            ")]),e._v(" "),a("p",{staticClass:"colorRed defaultFont"},[e._v("\n                ￥"+e._s(e.productMoney)+"\n            ")])])]),e._v(" "),a("div",{staticClass:"bottomTab"},[a("div",{staticClass:"bottomTabIn flex flex-sc flex-hlr"},[a("p",[a("span",{staticClass:"color666 defaultFont"},[e._v(" 合计： ")]),e._v(" "),a("span",{staticClass:"colorRed defaultFont"},[e._v("￥"+e._s(e.productMoney+e.carMoney))])]),e._v(" "),a("div",{staticClass:"buy flex-zhong",on:{click:e.createdOrder}},[e._v("\n                提交订单\n            ")])])]),e._v(" "),1003===e.alertState?a("MessageBox",[e._t("default",[a("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 您的储值账户余额不足，请充值！")]),e._v(" "),a("p",{staticClass:"alertOne defaultFont color333 mb"},[e._v(" 当前余额： "),a("span",{staticClass:"colorRed"},[e._v("222222")])]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"buttons flex flex-hsb"},[a("mt-button",{attrs:{type:"default",size:"small"},on:{click:e.close}},[e._v("再想想")]),e._v(" "),a("mt-button",{attrs:{type:"primary",size:"small"}},[e._v("去充值")])],1)])],2):e._e(),e._v(" "),1002===e.alertState?a("MessageBox",[e._t("default",[a("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 应国家政策要求，购买商品前请进行实名认证！")]),e._v(" "),a("br"),e._v(" "),a("div",{staticClass:"buttons flex flex-hsb"},[a("mt-button",{attrs:{type:"default",size:"small"},on:{click:e.close}},[e._v("再想想")]),e._v(" "),a("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.goTrueName}},[e._v("前去实名")])],1)])],2):e._e()],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"one flex flex-hlr"},[a("div",{staticClass:"defaultFont color333"},[e._v("\n                配送方式\n            ")])])}],i={render:r,staticRenderFns:s};t.a=i},w588:function(e,t,a){"use strict";var r=a("wSez");a.n(r);t.a={data:function(){return{num:1,alertState:0,detail:{},productMoney:0,carMoney:0,defaultMessage:{}}},created:function(){this.getProductDetail(),this.$route.query.addrId?this.getById():this.getDefault()},methods:{goTrueName:function(){this.$router.push({name:"trueName"})},selectAddr:function(){this.$router.push({name:"receiveAddress",query:{num:this.num,productId:this.$route.query.productId,isSelect:1}})},close:function(){this.alertState=0},buy:function(){this.$router.push({name:"buySuccess"})},up:function(){this.num++,this.handle()},down:function(){this.num--,this.handle()},handle:function(){this.num>99&&(this.num=99),this.num<1&&(this.num=1),this.allAmount()},allAmount:function(){this.productMoney=this.detail.price*this.num},createdOrder:function(){var e=this;r.Indicator.open(),this.api.postBn({url:"customerOrder/createOrder",params:{productId:this.$route.query.productId,deliveryAddressId:this.defaultMessage.id,orderCount:this.num},user:!0}).then(function(t){if(r.Indicator.close(),t.successed)e.$router.push({name:"buySuccess",query:{oid:t.returnValue}});else switch(r.Indicator.close(),t.errorCode){case"500":Util.myAlert("系统异常，请稍后重试");break;case"1001":Util.myAlert(t.errorDesc),e.api.noLogin();break;case"1002":e.alertState=1002;break;case"1003":e.alertState=1003;break;default:Util.myAlert(t.errorDesc)}})},getProductDetail:function(){var e=this;r.Indicator.open(),this.api.getB({url:"product/getDetail",params:{id:this.$route.query.productId}}).then(function(t){r.Indicator.close(),t.successed&&(e.detail=t.returnValue,e.num=e.$route.query.num,e.allAmount())})},getById:function(){var e=this;r.Indicator.open(),this.api.getB({url:"deliveryAddress/getById",params:{id:this.$route.query.addrId},user:!0}).then(function(t){r.Indicator.close(),t.successed&&(e.defaultMessage=t.returnValue)}).catch(function(){})},getDefault:function(){var e=this;r.Indicator.open(),this.api.getB({url:"deliveryAddress/getDefault",user:!0}).then(function(t){r.Indicator.close(),t.successed&&(e.defaultMessage=t.returnValue)})}}}}});