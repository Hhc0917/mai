webpackJsonp([11],{"2gMa":function(e,t,r){"use strict";var a=r("VEAZ"),s=r("NtYf");r.n(s);t.a={data:function(){return{serverState:!1,num:1,alertState:0,detail:{},productMoney:0,carMoney:0,defaultMessage:{consignee:""},userInfo:{}}},components:{"server-v":a.a},created:function(){this.getProductDetail(),this.getMyInfo(),this.$route.query.addrId?this.getById():this.getDefault()},methods:{openServer:function(){this.serverState=!0},closeServer:function(){console.log("ddd"),this.serverState=!1},goRecharge:function(){this.$router.push({name:"recharge"})},goTrueName:function(){this.$router.push({name:"trueName"})},selectAddr:function(){this.$router.push({name:"receiveAddress",query:{num:this.num,productId:this.$route.query.productId,isSelect:1}})},close:function(){this.alertState=0},buy:function(){this.$router.push({name:"buySuccess"})},up:function(){this.num++,this.handle()},down:function(){this.num--,this.handle()},handle:function(){this.num>99&&(this.num=99),this.num<1&&(this.num=1),this.allAmount()},allAmount:function(){this.productMoney=this.detail.price*this.num},createdOrder:function(){var e=this;s.MessageBox.confirm("确定购买？").then(function(t){s.Indicator.open(),e.api.postBn({url:"customerOrder/createOrder",params:{productId:e.$route.query.productId,deliveryAddressId:e.defaultMessage.id,orderCount:e.num},user:!0}).then(function(t){if(s.Indicator.close(),t.successed)e.$router.push({name:"buySuccess",query:{oid:t.returnValue}});else switch(s.Indicator.close(),t.errorCode){case"500":e.Util.myAlert("系统异常，请稍后重试");break;case"1001":e.Util.myAlert(t.errorDesc),e.api.noLogin();break;case"1002":e.alertState=1002;break;case"1003":e.alertState=1003;break;default:e.Util.myAlert(t.errorDesc)}})})},getProductDetail:function(){var e=this;s.Indicator.open(),this.api.getB({url:"product/getDetail",params:{id:this.$route.query.productId}}).then(function(t){s.Indicator.close(),t.successed&&(e.detail=t.returnValue,e.num=e.$route.query.num,e.allAmount())})},getById:function(){var e=this;s.Indicator.open(),this.api.getB({url:"deliveryAddress/getById",params:{id:this.$route.query.addrId},user:!0}).then(function(t){s.Indicator.close(),t.successed&&(e.defaultMessage=t.returnValue)}).catch(function(){})},getDefault:function(){var e=this;s.Indicator.open(),this.api.getB({url:"deliveryAddress/getDefault",user:!0}).then(function(t){s.Indicator.close(),t.successed&&t.returnValue&&(e.defaultMessage=t.returnValue)})},getMyInfo:function(){var e=this;this.api.getB({url:"customer/getByToken",user:!0}).then(function(t){t.successed&&(e.userInfo=t.returnValue)})}}}},"4o1/":function(e,t,r){t=e.exports=r("yKCJ")(!1),t.push([e.i,".server-alert-in[data-v-706fe38c]{padding-top:.25rem;width:100%;height:6.65rem}.server-alert-in div[data-v-706fe38c]:first-child{margin-bottom:.95rem}.server-alert-in-item[data-v-706fe38c]{width:12.1rem;height:2.25rem}.server-alert-in-item span[data-v-706fe38c]{color:#7e8b9e;font-size:.7rem}.server-alert-in-item .rexian[data-v-706fe38c]{color:#39c8fa}",""])},"MG+O":function(e,t,r){var a=r("4o1/");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("bUva")("79cc9576",a,!0,{})},UoJP:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"wrapper",attrs:{id:"sureOrder"}},[r("div",{staticClass:"product flex mb"},[r("div",{staticClass:"left"},[r("img",{directives:[{name:"lazy",rawName:"v-lazy.container",value:e.detail.image,expression:"detail.image",modifiers:{container:!0}}]})]),e._v(" "),r("div",{staticClass:"right"},[r("div",{staticClass:"top color333"},[e._v("\n                "+e._s(e.detail.productName)+"\n            ")]),e._v(" "),r("div",{staticClass:"bottom flex flex-hlr flex-sc"},[r("p",{staticClass:"colorRed defaultFont"},[e._v("￥"+e._s(e.detail.price))]),e._v(" "),r("p",{staticClass:"color333"},[e._v("× "+e._s(e.num))])])])]),e._v(" "),r("div",{staticClass:"buyNum flex flex-hlr flex-sc mb"},[r("div",{staticClass:"color333 defaultFont"},[e._v("购买数量")]),e._v(" "),r("div",{staticClass:"flex flex-hlr"},[r("div",{staticClass:"down",on:{click:e.down}},[e._v("-")]),e._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],attrs:{type:"number"},domProps:{value:e.num},on:{change:e.handle,input:function(t){t.target.composing||(e.num=t.target.value)}}})]),e._v(" "),r("div",{staticClass:"down",on:{click:e.up}},[e._v("+")])])]),e._v(" "),r("div",{staticClass:"sendType mb",on:{click:e.selectAddr}},[e._m(0),e._v(" "),r("div",{staticClass:"two flex flex-hlr"},[r("div",{staticClass:"defaultFont color333"},[e._v("\n                收货人："+e._s(e.defaultMessage.consignee)+"\n            ")]),e._v(" "),r("div",{staticClass:"defaultFont color333"},[e._v("\n                "+e._s(e.defaultMessage.mobile)+"\n            ")])]),e._v(" "),r("div",{staticClass:"three color333 smallFont"},[e._v("\n            收货地址：\n            "+e._s(e.defaultMessage.province)+"\n            "+e._s(e.defaultMessage.city)+"\n            "+e._s(e.defaultMessage.region)+"\n            "+e._s(e.defaultMessage.address)+"\n        ")]),e._v(" "),e._m(1)]),e._v(" "),r("div",{staticClass:"getServer color2 mb",on:{click:e.openServer}},[e._v("\n        联系客服\n    ")]),e._v(" "),r("div",{staticClass:"allMount"},[r("div",{staticClass:"flex flex-hlr"},[r("p",{staticClass:"color333 defaultFont"},[e._v("\n                商品金额\n            ")]),e._v(" "),r("p",{staticClass:"colorRed defaultFont"},[e._v("\n                ￥"+e._s(e.productMoney)+"\n            ")])])]),e._v(" "),r("div",{staticClass:"bottomTab"},[r("div",{staticClass:"bottomTabIn flex flex-sc flex-hlr"},[r("p",[r("span",{staticClass:"color666 defaultFont"},[e._v(" 合计： ")]),e._v(" "),r("span",{staticClass:"colorRed defaultFont"},[e._v("￥"+e._s(e.productMoney+e.carMoney))])]),e._v(" "),r("div",{staticClass:"buy flex-zhong",on:{click:e.createdOrder}},[e._v("\n                提交订单\n            ")])])]),e._v(" "),1003===e.alertState?r("MessageBox",{on:{close:e.close}},[e._t("default",[r("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 您的储值账户余额不足，请充值！")]),e._v(" "),r("p",{staticClass:"alertOne defaultFont color333 mb"},[e._v(" 当前余额： "),r("span",{staticClass:"colorRed"},[e._v(e._s(e.userInfo.balance))])]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"buttons flex flex-hsb"},[r("mt-button",{attrs:{type:"default",size:"small"},on:{click:e.close}},[e._v("再想想")]),e._v(" "),r("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.goRecharge}},[e._v("去充值")])],1)])],2):e._e(),e._v(" "),1002===e.alertState?r("MessageBox",{on:{close:e.close}},[e._t("default",[r("p",{staticClass:"alertOne defaultFont color333"},[e._v(" 应国家政策要求，购买商品前请进行实名认证！")]),e._v(" "),r("br"),e._v(" "),r("br"),e._v(" "),r("div",{staticClass:"buttons flex flex-hsb"},[r("mt-button",{attrs:{type:"default",size:"small"},on:{click:e.close}},[e._v("再想想")]),e._v(" "),r("mt-button",{attrs:{type:"primary",size:"small"},on:{click:e.goTrueName}},[e._v("前去实名")])],1)])],2):e._e(),e._v(" "),e.serverState?r("server-v",{on:{close:e.closeServer}}):e._e()],1)},s=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"one flex flex-hlr"},[r("div",{staticClass:"defaultFont color333"},[e._v("\n                配送方式\n            ")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"jiantou flex-zhong"},[a("img",{attrs:{src:r("xMAf"),alt:""}})])}],n={render:a,staticRenderFns:s};t.a=n},VEAZ:function(e,t,r){"use strict";function a(e){r("MG+O")}var s=r("k9oh"),n=r("sWBl"),i=r("Aizv"),o=a,c=i(s.a,n.a,!1,o,"data-v-706fe38c",null);t.a=c.exports},Y3Ax:function(e,t,r){"use strict";function a(e){r("um3R")}Object.defineProperty(t,"__esModule",{value:!0});var s=r("2gMa"),n=r("UoJP"),i=r("Aizv"),o=a,c=i(s.a,n.a,!1,o,"data-v-34fc5080",null);t.default=c.exports},k9oh:function(e,t,r){"use strict";t.a={data:function(){return{serverAlert:1}},methods:{changeServerAlert:function(e){this.$emit("close","")},qqServer:function(){/(|iPad|iPod|iOS)/i.test(navigator.userAgent)||/(|Android|)/i.test(navigator.userAgent)?window.open("mqqwpa://im/chat?chat_type=wpa&uin=5446833281&version=1&src_type=web&web_src=oicqzone.com"):window.open("http://wpa.qq.com/msgrd?v=3&uin=5446833281&site=oicqzone.com&menu=yes")},phoneServer:function(){window.location.href="tel:123456789"}}}},sWBl:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("MessageBox",{attrs:{tit:"客服"},on:{close:function(t){e.changeServerAlert()}}},[r("div",{staticClass:"server-alert-in flex flex-s flex-hc flex-sc"},[r("div",{staticClass:"server-alert-in-item",on:{click:e.phoneServer}},[r("border",{staticClass:"flex-zhong"},[r("span",[e._v("客服热线：")]),e._v(" "),r("span",{staticClass:"rexian"},[r("a",{attrs:{href:"tel:400-6305-186"}},[e._v("400-6305-186")])])])],1),e._v(" "),r("div",{staticClass:"server-alert-in-item",on:{click:e.qqServer}},[r("border",{staticClass:"flex-zhong"},[r("span",[e._v("客服QQ：")]),e._v(" "),r("span",[e._v("3511735466")])])],1)])])},s=[],n={render:a,staticRenderFns:s};t.a=n},um3R:function(e,t,r){var a=r("ypGi");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r("bUva")("41aa9d14",a,!0,{})},xMAf:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAWCAMAAAD6gTxzAAAABGdBTUEAALGPC/xhBQAAAFFQTFRFwcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvawcvaAAAAwcvalBVc2QAAABp0Uk5T+d6f/vOoKfvYPQ6XugGpTvXkp+5h4oQIGAAGFDLHAAAAYUlEQVQY043RyQ6AIAwEUNz3DRVw/v9DNUaROD0wx3do2qmyqcqL8giiDK5UxgaU4E7dfJThSde+BJ9lIgJGR4R1G/4E9I4IuyOCZpqjSEeMpyV4VTrIny2UI1QoFM3vOAE1WiUBGCdIHgAAAABJRU5ErkJggg=="},ypGi:function(e,t,r){t=e.exports=r("yKCJ")(!1),t.push([e.i,"#sureOrder .mb[data-v-34fc5080]{margin-bottom:.5rem}#sureOrder .product[data-v-34fc5080]{padding:.5rem;width:100%;background:#fff}#sureOrder .product .left[data-v-34fc5080]{width:6.5rem;height:6.5rem;background:#f2f2f2}#sureOrder .product .left img[data-v-34fc5080]{max-width:6.5rem;max-height:6.5rem}#sureOrder .product .right[data-v-34fc5080]{padding-left:.75rem;width:11.25rem}#sureOrder .product .right .top[data-v-34fc5080]{height:80%}#sureOrder .buyNum[data-v-34fc5080]{padding:0 .5rem;width:100%;height:3rem;background:#fff}#sureOrder .buyNum input[data-v-34fc5080]{border:none;width:2rem;height:1.5rem;text-align:center}#sureOrder .buyNum .down[data-v-34fc5080]{width:1.5rem;height:1.5rem;background:#f0f0f1;text-align:center;line-height:1.5rem}#sureOrder .sendType[data-v-34fc5080]{position:relative;padding:0 .5rem;width:100%;background:#fff}#sureOrder .sendType .one[data-v-34fc5080]{padding-top:.5rem;padding-bottom:.5rem;border-bottom:1px solid #ccc}#sureOrder .sendType .three[data-v-34fc5080],#sureOrder .sendType .two[data-v-34fc5080]{padding-top:.5rem;padding-bottom:.5rem;padding-right:1.25rem}#sureOrder .sendType .jiantou[data-v-34fc5080]{position:absolute;right:.5rem;top:2rem;width:1rem;height:5rem;line-height:3rem;text-align:center}#sureOrder .sendType .jiantou img[data-v-34fc5080]{width:.7rem}#sureOrder .getServer[data-v-34fc5080]{width:100%;padding:.5rem;text-align:center;background:#fff}#sureOrder .allMount[data-v-34fc5080]{background:#fff;padding:.5rem}#sureOrder .bottomTabIn[data-v-34fc5080]{padding:.5rem}#sureOrder .bottomTabIn .buy[data-v-34fc5080]{width:5rem;height:2rem;background:red;color:#fff;border-radius:2rem}#sureOrder .alertOne[data-v-34fc5080]{width:100%;padding-top:.75rem}#sureOrder .alertOne input[data-v-34fc5080]{padding:0 .5rem;width:100%;height:2rem;border:1px solid #ccc;border-radius:.25rem}",""])}});